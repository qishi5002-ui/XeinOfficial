<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>XeinHack</title>
<style>
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: 'Segoe UI', system-ui, sans-serif; background: #0f1a38; min-height:100vh; color:#fff; }
.header { background: rgba(255,255,255,0.05); backdrop-filter: blur(10px); padding:1rem 0; box-shadow:0 2px 20px rgba(0,0,0,0.2); position:sticky; top:0; z-index:100; }
.nav { max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; padding:0 2rem; }
.logo { font-size:1.6rem; font-weight:700; background:linear-gradient(45deg,#667eea,#764ba2); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
.cart-btn { background:#667eea; color:#fff; border:none; padding:.6rem 1rem; border-radius:20px; cursor:pointer; font-weight:600; display:flex; gap:.5rem; align-items:center;}
.cart-count { background:#ff4757; color:white; border-radius:50%; padding:.15rem .45rem; font-size:.8rem; }
.container { max-width:1200px; margin:1.5rem auto; padding:1rem; }
.hero { text-align:center; color:white; margin-bottom:1.5rem; }
.hero h1 { font-size:2.4rem; text-shadow:2px 2px 4px rgba(0,0,0,0.25); margin-bottom:.3rem; }
.note-box { background:yellow; color:#222; padding:1rem; border-radius:8px; margin-top:1rem; font-weight:700; display:inline-block; }
.products-grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(280px,1fr)); gap:1.25rem; }
.product-card { background: rgba(255,255,255,0.05); border-radius:12px; overflow:hidden; box-shadow:0 8px 25px rgba(0,0,0,0.1); transition:transform .18s; }
.product-card:hover { transform: translateY(-6px); }
.product-image { height:150px; display:flex; align-items:center; justify-content:center; font-size:3rem; color:white; background: linear-gradient(45deg,#667eea,#764ba2); }
.product-info { padding:1rem; }
.product-title { font-weight:700; color:#fff; margin-bottom:.35rem; }
.product-platform { color:#667eea; margin-bottom:.6rem; }
.duration-selector select { width:100%; padding:.45rem; border-radius:6px; border:1px solid #e6eef8; margin-bottom:.5rem; }
.duration-price { color:#667eea; font-weight:700; margin-bottom:.6rem; }
.add-to-cart { width:100%; padding:.6rem; border-radius:8px; background:#667eea; color:white; border:none; cursor:pointer; font-weight:700; }
.cart-page, .checkout-page, .receipt-page { display:none; padding:2rem; max-width:900px; margin:2rem auto; background: linear-gradient(135deg, #f5f7fa, #e0e5ec); border-radius:12px; color:#222; }
.cart-item { display:flex; justify-content:space-between; gap:10px; padding:.75rem 0; border-bottom:1px solid #ccc; align-items:center; }
.cart-item button { cursor:pointer; padding:.35rem .5rem; border-radius:6px; border:none; }
.checkout-btn, .back-btn, .receipt-btn { width:100%; padding:1rem; border-radius:10px; background:#00d4aa; color:white; border:none; font-weight:800; cursor:pointer; margin-top:.8rem; }
.recent-notification { position:fixed; bottom:20px; left:20px; background:rgba(0,0,0,0.75); color:white; padding:.8rem 1rem; border-radius:8px; font-size:.85rem; z-index:10000; }
@media (max-width:900px){.cart-page,.checkout-page,.receipt-page{width:95%; margin:2rem auto;}}
</style>
</head>
<body>
<header class="header">
<nav class="nav">
<div class="logo">ðŸŽ® XeinHack</div>
<div><button class="cart-btn" onclick="showCart()">Cart <span class="cart-count" id="cart-count">0</span></button></div>
</nav>
</header>

<main class="container">
<div class="hero">
<h1>XeinHack Keys</h1>
<div class="note-box">NOTE: Please be reminded to screenshot your crypto payment</div>
</div>
<div class="products-grid" id="products-grid"></div>
</main>

<div class="recent-notification" id="recent-notification" style="display:none;"></div>

<div class="cart-page" id="cart-page">
<h2>Shopping Cart</h2>
<div id="cart-items">
<p>Your cart is empty.</p>
</div>
<button class="checkout-btn" onclick="goToCheckout()">Proceed to Checkout</button>
<button class="back-btn" onclick="backToStore()">Back to Store</button>
</div>

<div class="checkout-page" id="checkout-page">
<h2>Checkout</h2>
<p style="font-weight:700;">Crypto Wallet Payment (Send On-Chain)</p>
<p style="font-weight:600;">Network: TRC-20</p>
<p style="font-weight:600;">Wallet Address: <span id="wallet-address">TEwKbkNdXqvNUG951nYTCRF6UjLGBn7pqc</span> <button onclick="copyWallet()">Copy</button></p>
<div id="checkout-items"></div>
<div style="margin:1rem 0;">
<label style="font-weight:700;">Enter your Telegram Username:</label>
<input type="text" id="telegram-username" placeholder="@username" style="width:100%; padding:.6rem; border-radius:6px; border:1px solid #ccc;" />
</div>
<button class="checkout-btn" onclick="confirmPayment()">I've Paid</button>
<button class="back-btn" onclick="backToCart()">Back to Cart</button>
</div>
<!-- Part 2: JS logic, receipt page, recent purchases -->

<div class="receipt-page" id="receipt-page">
<h2>Payment Receipt</h2>
<p>Order ID: <span id="receipt-order-id"></span></p>
<p>Products:</p>
<ul id="receipt-items"></ul>
<p>Telegram Username: <span id="receipt-username"></span></p>
<div class="note-box" style="background:yellow; color:#222; margin-top:1rem;">
NOTE: Please send BOTH screenshots of your crypto payment and your receipt to <a href="https://t.me/cocomelonqueen" target="_blank">@cocomelonqueen</a>
</div>
<button class="back-btn" onclick="backToStore()">Back to Store</button>
</div>

<script>
// Products array
const products = [
  { name: "Delta Force Key", durations: [{day:1, price:5},{day:3, price:8},{day:7, price:12},{day:30, price:23}] },
  { name: "PubG Key", durations: [{day:1, price:4},{day:3, price:7},{day:7, price:11},{day:30, price:22}] }
];

let cart = [];

// Display products
const productsGrid = document.getElementById('products-grid');
products.forEach((product, idx) => {
  const card = document.createElement('div');
  card.className = 'product-card';
  card.innerHTML = `
    <div class="product-image">ðŸŽ®</div>
    <div class="product-info">
      <div class="product-title">${product.name}</div>
      <div class="duration-selector">
        <select id="duration-${idx}">
          ${product.durations.map(d => `<option value="${d.price}">${d.day} day - $${d.price}</option>`).join('')}
        </select>
      </div>
      <button class="add-to-cart" onclick="addToCart(${idx})">Add to Cart</button>
    </div>`;
  productsGrid.appendChild(card);
});

// Cart functions
function addToCart(idx){
  const product = products[idx];
  const select = document.getElementById(`duration-${idx}`);
  const price = parseInt(select.value);
  const day = select.options[select.selectedIndex].text.split(' ')[0];
  const key = product.name + " - " + day + " day";
  const existing = cart.find(i => i.key === key);
  if(existing) existing.qty++;
  else cart.push({ key: key, price: price, qty:1 });
  updateCartCount();
}

function updateCartCount(){
  document.getElementById('cart-count').textContent = cart.reduce((a,b)=>a+b.qty,0);
}

// Show Cart
function showCart(){
  productsGrid.parentElement.style.display='none';
  document.getElementById('cart-page').style.display='block';
  renderCartItems();
}

function backToStore(){
  document.getElementById('cart-page').style.display='none';
  document.getElementById('checkout-page').style.display='none';
  document.getElementById('receipt-page').style.display='none';
  productsGrid.parentElement.style.display='block';
}

function renderCartItems(){
  const cartItemsDiv = document.getElementById('cart-items');
  if(cart.length===0){ cartItemsDiv.innerHTML="<p>Your cart is empty.</p>"; return; }
  cartItemsDiv.innerHTML = '';
  cart.forEach((item,idx)=>{
    const div = document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`<span>${item.key} ($${item.price}) x ${item.qty}</span>
      <div>
        <button onclick="changeQty(${idx},-1)">-</button>
        <button onclick="changeQty(${idx},1)">+</button>
      </div>`;
    cartItemsDiv.appendChild(div);
  });
}

function changeQty(idx,delta){
  cart[idx].qty+=delta;
  if(cart[idx].qty<=0) cart.splice(idx,1);
  renderCartItems();
  updateCartCount();
}

// Checkout
function goToCheckout(){
  document.getElementById('cart-page').style.display='none';
  document.getElementById('checkout-page').style.display='block';
  const checkoutDiv = document.getElementById('checkout-items');
  checkoutDiv.innerHTML = '';
  cart.forEach(item=>{
    checkoutDiv.innerHTML+=`<p>${item.key} x ${item.qty} - $${item.price*item.qty}</p>`;
  });
}

function backToCart(){
  document.getElementById('checkout-page').style.display='none';
  document.getElementById('cart-page').style.display='block';
}

// Copy wallet
function copyWallet(){
  const addr = document.getElementById('wallet-address').textContent;
  navigator.clipboard.writeText(addr);
  alert('Wallet address copied!');
}

// Confirm Payment
function confirmPayment(){
  const username = document.getElementById('telegram-username').value.trim();
  if(!username){ alert("Enter your Telegram username"); return; }
  // Show receipt page
  document.getElementById('checkout-page').style.display='none';
  document.getElementById('receipt-page').style.display='block';
  document.getElementById('receipt-username').textContent = username;
  document.getElementById('receipt-items').innerHTML='';
  cart.forEach(item=>{
    document.getElementById('receipt-items').innerHTML+=`<li>${item.key} x ${item.qty} - $${item.price*item.qty}</li>`;
  });
  document.getElementById('receipt-order-id').textContent = "ORD"+Math.floor(Math.random()*1000000);
  cart=[]; updateCartCount();
}

// Recent Purchase Notification
function showRecentPurchase(){
  const randomProduct = products[Math.floor(Math.random()*products.length)];
  const duration = randomProduct.durations[Math.floor(Math.random()*randomProduct.durations.length)].day;
  const usernames = ["@gamer123","@playerX","@alpha99","@deltaForce","@pubgMaster","@shadow","@neoPlayer","@xXxKing"];
  const username = usernames[Math.floor(Math.random()*usernames.length)];
  const censored = username.slice(0,3)+"***"+username.slice(-2);
  const timeAgo = Math.floor(Math.random()*59)+1; // 1-60 minutes
  const notif = document.getElementById('recent-notification');
  notif.textContent = `${censored} just purchased ${randomProduct.name} ${duration} day key ${timeAgo} minutes ago`;
  notif.style.display='block';
  setTimeout(showRecentPurchase,(Math.random()*5000)+5000); // random interval
}
showRecentPurchase();

</script>
</body>
</html>
